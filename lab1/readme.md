# Описание архитектуры системы заказа услуг (аналог profi.ru) (вар. #4)
## Семин А. В., гр. М8О-109СВ-24

### 1. Цель работы

Целью работы является создание архитектурного описания системы заказа услуг (аналог profi.ru) в формате Structurizr DSL. Система предоставляет API для управления пользователями, услугами и заказами.

### 2. Роли пользователей и внешние системы

**Роли пользователей:**

- Клиент: пользователь, который ищет и заказывает услуги
- Специалист: пользователь, который предоставляет и исполняет услуги
- Администратор: сотрудник платформы с расширенными правами доступа

**Внешние системы:**

- Платежная система: Интегрируется с платформой для обработки оплаты услуг, оказываемых специалистами
- Система уведомлений: Отправляет уведомления пользователям через различные каналы связи (например, email)

### 3. Описание softwareSystem и диаграмма systemContext

**Описание softwareSystem:**

- Система предоставления услуг: платформа, объединяющая клиентов с исполнителями и предоставляющая возможность поиска, заказа и оплаты услуг

**Диаграмма systemContext:**

- Клиент / Исполнитель / Администратор -> Система предоставления услуг (HTTP/HTTPS)
- Система предоставления услуг -> Платежная система (API)
- Система предоставления услуг -> Система уведомлений (API)

### 4. Основные задачи пользователей и их реализация

**Задачи клиента:**

- Регистрация или вход в систему: релизация через Сервис пользователей и БД пользовательских данных
- Поиск нужной услуги: реализация через Сервис услуг с различными возможностями фильтрации по БД услуг
- Выбор исполнителя услуги: реализация через Сервис услуг для сопоставления требований клиента и возможностей специалиста
- Оформление заказа: реализация через Сервис заказов и БД заказов
- Оплата услуг: реализация через интеграцию с Платежной системой
- Оценка полученных услуг: реализация через Сервис услуг, БД услуг и БД пользователей

**Задачи исполнителя:**

- Регистрация или вход в систему: релизация через Сервис пользователей и БД пользовательских данных
- Создание профиля с выбором оказываемых услуг: реализация через Сервис пользователей и Сервис услуг, БД пользователей и БД услуг
- Получение уведомлений о новых заказах: реализация через Сервис уведомлений
- Принятие/отклонение заказов: реализация через Сервис заказов
- Получение оплаты: реализация через интеграцию с Платежной системой

**Задачи администратора:**

- Управление пользователями: реализация через Сервис пользователей
- Модерация контента: реализация через Сервис услуг и Сервис пользователей

### 5. Перечень контейнеров

**Контейнеры системы:**

- API Gateway: Обрабатывает входящие HTTP-запросы и маршрутизирует их к соответствующим сервисам
- Сервис пользователей: Управляет данными пользователей
- Сервис услуг: Управляет каталогом услуг и их параметрами
- Сервис заказов: Управляет процессом создания и обработки заказа по конкретной услуге конкретного специалиста
- Сервис уведомлений: Отправляет уведомления пользователям
- Платежный сервис: Интегрируется с внешней платежной системой
- БД пользователей: Хранит данных пользователей
- БД услуг: Хранит данные о предоставляемых услугах
- БД заказов: Хранит данные об оформленных заказах на услуги от конкретных исполнителей 

### 6. Взаимодействие между контейнерами

**Основные взаимодействия:**
- Создание нового пользователя: Пользователь -> API Gateway -> Сервис пользователей -> БД пользователей
- Создание услуги: Пользователь -> API Gateway -> Сервис услуг -> БД услуг
- Получение списка услуг и доступных исполнителей: Пользователь -> API Gateway -> Сервис услуг + Сервис пользователей -> БД услуг + БД пользователей
- Добавление услуг в заказ: Пользователь -> API Gateway -> Сервис заказов -> БД заказов
- Получение заказов пользователя: Пользователь -> API Gateway -> Сервис заказов -> БД заказов

### 7. Модель container и диаграмма Container

- API Gateway
- Сервис пользователей
- Сервис услуг
- Сервис заказов
- Сервис уведомлений
- Платежный сервис
- БД пользователей
- БД услуг
- БД заказов

### 8. Технологии

- Backend: Python, FastAPI 
- БД: PostgreSQL

### 9. Диаграмма dynamic

Диаграмма dynamic для выбора услуг(-и) и оформления заказа:

- Пользователь -> API Gateway -> Сервис услуг -> Сервис пользователей -> Сервис заказов -> БД заказов
